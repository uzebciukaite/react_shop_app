{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport data from \"../assets/furniture\";\nimport { getColorList, getFurnList, getPriceCategories, discounts } from \"../assets/dataInfo\";\nexport const itemsSlice = createSlice({\n  name: \"items\",\n  initialState: {\n    value: {\n      allProducts: data,\n      filteredProducts: [],\n      categories: getFurnList(),\n      colors: getColorList(),\n      priceRange: getPriceCategories(),\n      randomItems: [],\n      biggestDiscounts: discounts()\n    }\n  },\n  reducers: {\n    // getallItems: (state, action) => {\n    //     state.value.allProducts = [...action.payload]\n    //     console.log(state.value.allProducts)\n    // },\n    // homePageItems: (state, action) => {\n    // },\n    randomItems: (state, action) => {\n      const currentItem = action.payload;\n      const newArr = [...state.value.allProducts];\n      state.value.randomItems = newArr.filter(x => x.category === currentItem.category && x.id !== currentItem.id).sort((a, b) => 0.5 - Math.random()).splice(0, 4);\n    },\n    sortItems: (state, action) => {\n      const sortType = action.payload;\n      const newArr = [...state.value.allProducts];\n      const filteredArr = [...state.value.filteredProducts];\n\n      if (sortType === \"lowtoHigh\") {\n        if (filteredArr.length > 0) {\n          state.value.allProducts = filteredArr.sort((x, y) => y.price - x.price);\n        } else {\n          state.value.allProducts = newArr.sort((x, y) => y.price - x.price);\n        }\n      } else {\n        if (filteredArr.length > 0) {\n          state.value.allProducts = filteredArr.sort((x, y) => x.price - y.price);\n        } else {\n          state.value.allProducts = newArr.sort((x, y) => x.price - y.price);\n        }\n      }\n    },\n    filterItems: (state, action) => {\n      const filterValues = action.payload;\n      const newArr = [...state.value.allProducts];\n      const newfilteredArr = [...state.value.filteredProducts];\n\n      if (filterValues.key === \"category\") {\n        if (filterValues.type === \"all\") {\n          state.value.filteredProducts = [...state.value.allProducts];\n        } else {\n          state.value.filteredProducts = newArr.filter(x => x.category === filterValues.type);\n        }\n      }\n\n      if (filterValues.key === \"colors\") {\n        state.value.filteredProducts = newArr.filter(x => x.color === filterValues.type);\n      }\n\n      if (filterValues.key === \"price\") {\n        state.value.filteredProducts = newArr.filter(x => x.price > filterValues.type[0] && x.price < filterValues.type[1]);\n      }\n    }\n  }\n});\nexport const {\n  getallItems,\n  randomItems,\n  sortItems,\n  filterItems\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","data","getColorList","getFurnList","getPriceCategories","discounts","itemsSlice","name","initialState","value","allProducts","filteredProducts","categories","colors","priceRange","randomItems","biggestDiscounts","reducers","state","action","currentItem","payload","newArr","filter","x","category","id","sort","a","b","Math","random","splice","sortItems","sortType","filteredArr","length","y","price","filterItems","filterValues","newfilteredArr","key","type","color","getallItems","actions","reducer"],"sources":["/Users/urtezebciukaite/Desktop/TS10/Personal projects/react/shopping_site/src/features/items.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport data from \"../assets/furniture\"\nimport {getColorList, getFurnList, getPriceCategories, discounts} from \"../assets/dataInfo\"\n\n\nexport const itemsSlice = createSlice({\n    name: \"items\",\n    initialState: {\n        value: {\n            allProducts: data,\n            filteredProducts: [],\n            categories: getFurnList(),\n            colors: getColorList(),\n            priceRange: getPriceCategories(),\n            randomItems: [],\n            biggestDiscounts: discounts()\n\n        }\n    },\n    reducers: {\n        // getallItems: (state, action) => {\n        //     state.value.allProducts = [...action.payload]\n        //     console.log(state.value.allProducts)\n        // },\n        // homePageItems: (state, action) => {\n\n        // },\n        randomItems: (state, action) => {\n            const currentItem = action.payload\n            const newArr = [...state.value.allProducts]\n\n            state.value.randomItems = newArr.filter(x => x.category === currentItem.category &&  x.id !== currentItem.id).sort((a, b) => 0.5 - Math.random()).splice(0, 4)\n        \n        },\n        sortItems: (state, action) => {\n            const sortType = action.payload\n            const newArr = [...state.value.allProducts]\n            const filteredArr = [...state.value.filteredProducts]\n            if(sortType === \"lowtoHigh\"){\n                if(filteredArr.length > 0) {\n                  state.value.allProducts = filteredArr.sort((x, y) => y.price - x.price) \n                } else {\n                     state.value.allProducts = newArr.sort((x, y) => y.price - x.price)\n                }\n             \n            } else {\n                if(filteredArr.length > 0){\n                    state.value.allProducts = filteredArr.sort((x, y) => x.price - y.price)\n                } else {\n                     state.value.allProducts = newArr.sort((x, y) => x.price - y.price)\n                }\n           \n            }\n        },\n        filterItems: (state, action) => {\n            const filterValues = action.payload \n\n            const newArr = [...state.value.allProducts]\n            const newfilteredArr = [...state.value.filteredProducts]\n\n            \n            if(filterValues.key === \"category\"){\n                if(filterValues.type === \"all\"){\n                    state.value.filteredProducts = [...state.value.allProducts]\n                } else {\n                    state.value.filteredProducts = newArr.filter(x => x.category === filterValues.type)\n                }\n                \n            }\n            if(filterValues.key === \"colors\"){\n                state.value.filteredProducts = newArr.filter(x => x.color === filterValues.type)\n            }\n            if(filterValues.key === \"price\"){\n                state.value.filteredProducts = newArr.filter(x => x.price > filterValues.type[0] && x.price < filterValues.type[1])\n            }\n\n            \n\n            \n\n            \n        },\n\n        \n    }\n\n})\n\nexport const {getallItems, randomItems, sortItems, filterItems} = itemsSlice.actions\n\n\nexport default itemsSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}