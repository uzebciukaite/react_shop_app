{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport data from \"../assets/furniture\";\nexport const itemsSlice = createSlice({\n  name: \"items\",\n  initialState: {\n    value: {\n      allProducts: data,\n      filteredProducts: data,\n      categories: [],\n      colors: [],\n      priceRange: [],\n      randomItems: []\n    }\n  },\n  reducers: {\n    // getallItems: (state, action) => {\n    //     state.value.allProducts = [...action.payload]\n    //     console.log(state.value.allProducts)\n    // },\n    // homePageItems: (state, action) => {\n    // },\n    randomItems: (state, action) => {\n      const currentItem = action.payload;\n      const newArr = [...state.value.allProducts];\n      state.value.randomItems = newArr.filter(x => x.category === currentItem.category && x.id !== currentItem.id).sort((a, b) => 0.5 - Math.random()).splice(0, 5);\n    },\n    sortItems: (state, action) => {\n      const sortType = action.payload;\n      const newArr = [...state.value.allProducts];\n\n      if (sortType === \"lowtoHigh\") {\n        state.value.allProducts = newArr.sort((x, y) => y.price - x.price);\n      } else {\n        state.value.allProducts = newArr.sort((x, y) => x.price - y.price);\n      }\n    },\n    getProductFilters: (state, action) => {\n      const newaFilteredrrr = [...state.value.filteredProducts];\n      newaFilteredrrr.map(x => {\n        const singlecolor = {\n          color: x.color,\n          quantity: 1\n        };\n        const colorExists = newaFilteredrrr.find(item => item.color === x.color);\n\n        if (colorExists) {\n          colorExists.quantity++;\n        } else {\n          colors.state.value.push(singlecolor);\n        }\n      });\n    },\n    filterItems: (state, action) => {}\n  }\n});\nexport const {\n  getallItems,\n  randomItems,\n  sortItems\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","data","itemsSlice","name","initialState","value","allProducts","filteredProducts","categories","colors","priceRange","randomItems","reducers","state","action","currentItem","payload","newArr","filter","x","category","id","sort","a","b","Math","random","splice","sortItems","sortType","y","price","getProductFilters","newaFilteredrrr","map","singlecolor","color","quantity","colorExists","find","item","push","filterItems","getallItems","actions","reducer"],"sources":["/Users/urtezebciukaite/Desktop/TS10/Personal projects/react/shopping_site/src/features/items.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport data from \"../assets/furniture\"\n\nexport const itemsSlice = createSlice({\n    name: \"items\",\n    initialState: {\n        value: {\n            allProducts: data,\n            filteredProducts: data,\n            categories: [],\n            colors: [],\n            priceRange: [],\n            randomItems: []\n\n        }\n       \n    },\n    reducers: {\n        // getallItems: (state, action) => {\n        //     state.value.allProducts = [...action.payload]\n        //     console.log(state.value.allProducts)\n        // },\n        // homePageItems: (state, action) => {\n\n        // },\n        randomItems: (state, action) => {\n            const currentItem = action.payload\n            const newArr = [...state.value.allProducts]\n\n            state.value.randomItems = newArr.filter(x => x.category === currentItem.category &&  x.id !== currentItem.id).sort((a, b) => 0.5 - Math.random()).splice(0, 5)\n        \n        },\n        sortItems: (state, action) => {\n            const sortType = action.payload\n            const newArr = [...state.value.allProducts]\n            if(sortType === \"lowtoHigh\"){\n              state.value.allProducts = newArr.sort((x, y) => y.price - x.price)\n            } else {\n            state.value.allProducts = newArr.sort((x, y) => x.price - y.price)\n            }\n        },\n        getProductFilters: (state, action) => {\n            \n            const newaFilteredrrr = [...state.value.filteredProducts]\n\n            newaFilteredrrr.map(x => {\n            const singlecolor = {\n                color: x.color,\n                quantity: 1\n            }\n            const colorExists = newaFilteredrrr.find(item => item.color === x.color)\n            if(colorExists){\n            colorExists.quantity++\n            } else {\n            colors.state.value.push(singlecolor)\n            }\n        })\n    \n\n        },\n    filterItems: (state, action) => {\n\n        },\n\n        \n    }\n\n})\n\nexport const {getallItems, randomItems, sortItems} = itemsSlice.actions\n\n\nexport default itemsSlice.reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AAEA,OAAO,MAAMC,UAAU,GAAGF,WAAW,CAAC;EAClCG,IAAI,EAAE,OAD4B;EAElCC,YAAY,EAAE;IACVC,KAAK,EAAE;MACHC,WAAW,EAAEL,IADV;MAEHM,gBAAgB,EAAEN,IAFf;MAGHO,UAAU,EAAE,EAHT;MAIHC,MAAM,EAAE,EAJL;MAKHC,UAAU,EAAE,EALT;MAMHC,WAAW,EAAE;IANV;EADG,CAFoB;EAclCC,QAAQ,EAAE;IACN;IACA;IACA;IACA;IACA;IAEA;IACAD,WAAW,EAAE,CAACE,KAAD,EAAQC,MAAR,KAAmB;MAC5B,MAAMC,WAAW,GAAGD,MAAM,CAACE,OAA3B;MACA,MAAMC,MAAM,GAAG,CAAC,GAAGJ,KAAK,CAACR,KAAN,CAAYC,WAAhB,CAAf;MAEAO,KAAK,CAACR,KAAN,CAAYM,WAAZ,GAA0BM,MAAM,CAACC,MAAP,CAAcC,CAAC,IAAIA,CAAC,CAACC,QAAF,KAAeL,WAAW,CAACK,QAA3B,IAAwCD,CAAC,CAACE,EAAF,KAASN,WAAW,CAACM,EAAhF,EAAoFC,IAApF,CAAyF,CAACC,CAAD,EAAIC,CAAJ,KAAU,MAAMC,IAAI,CAACC,MAAL,EAAzG,EAAwHC,MAAxH,CAA+H,CAA/H,EAAkI,CAAlI,CAA1B;IAEH,CAdK;IAeNC,SAAS,EAAE,CAACf,KAAD,EAAQC,MAAR,KAAmB;MAC1B,MAAMe,QAAQ,GAAGf,MAAM,CAACE,OAAxB;MACA,MAAMC,MAAM,GAAG,CAAC,GAAGJ,KAAK,CAACR,KAAN,CAAYC,WAAhB,CAAf;;MACA,IAAGuB,QAAQ,KAAK,WAAhB,EAA4B;QAC1BhB,KAAK,CAACR,KAAN,CAAYC,WAAZ,GAA0BW,MAAM,CAACK,IAAP,CAAY,CAACH,CAAD,EAAIW,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUZ,CAAC,CAACY,KAAlC,CAA1B;MACD,CAFD,MAEO;QACPlB,KAAK,CAACR,KAAN,CAAYC,WAAZ,GAA0BW,MAAM,CAACK,IAAP,CAAY,CAACH,CAAD,EAAIW,CAAJ,KAAUX,CAAC,CAACY,KAAF,GAAUD,CAAC,CAACC,KAAlC,CAA1B;MACC;IACJ,CAvBK;IAwBNC,iBAAiB,EAAE,CAACnB,KAAD,EAAQC,MAAR,KAAmB;MAElC,MAAMmB,eAAe,GAAG,CAAC,GAAGpB,KAAK,CAACR,KAAN,CAAYE,gBAAhB,CAAxB;MAEA0B,eAAe,CAACC,GAAhB,CAAoBf,CAAC,IAAI;QACzB,MAAMgB,WAAW,GAAG;UAChBC,KAAK,EAAEjB,CAAC,CAACiB,KADO;UAEhBC,QAAQ,EAAE;QAFM,CAApB;QAIA,MAAMC,WAAW,GAAGL,eAAe,CAACM,IAAhB,CAAqBC,IAAI,IAAIA,IAAI,CAACJ,KAAL,KAAejB,CAAC,CAACiB,KAA9C,CAApB;;QACA,IAAGE,WAAH,EAAe;UACfA,WAAW,CAACD,QAAZ;QACC,CAFD,MAEO;UACP5B,MAAM,CAACI,KAAP,CAAaR,KAAb,CAAmBoC,IAAnB,CAAwBN,WAAxB;QACC;MACJ,CAXG;IAcH,CA1CK;IA2CVO,WAAW,EAAE,CAAC7B,KAAD,EAAQC,MAAR,KAAmB,CAE3B;EA7CK;AAdwB,CAAD,CAA9B;AAkEP,OAAO,MAAM;EAAC6B,WAAD;EAAchC,WAAd;EAA2BiB;AAA3B,IAAwC1B,UAAU,CAAC0C,OAAzD;AAGP,eAAe1C,UAAU,CAAC2C,OAA1B"},"metadata":{},"sourceType":"module"}