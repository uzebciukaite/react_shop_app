{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { useEffect } from \"react\";\nexport const chartSlice = createSlice({\n  name: \"chart\",\n  initialState: {\n    value: {\n      chartItems: [],\n      totalPrice: 0,\n      quantity: 0\n    }\n  },\n  reducers: {\n    updateBoxArray: (state, action) => {\n      state.value.chartItems = [...action.payload];\n    },\n    addToChart: (state, action) => {\n      const newItem = action.payload;\n      const existingItem = state.value.chartItems.find(item => item.id === newItem.id);\n\n      if (existingItem) {\n        existingItem.quantity++;\n        existingItem.totalPrice += newItem.price;\n        state.value.quantity++;\n        state.value.totalPrice += newItem.price;\n      } else {\n        state.value.chartItems.push(action.payload);\n        state.value.quantity++;\n        state.value.totalPrice += newItem.price;\n      }\n    },\n    deletefromChart: (state, action) => {\n      const selectedItem = action.payload.item;\n      const existingItem = state.value.chartItems.find(item => item.id === selectedItem.id);\n\n      if (existingItem.quantity > 0) {\n        existingItem.quantity--;\n        existingItem.totalPrice -= selectedItem.price;\n        state.value.quantity--;\n        state.value.totalPrice -= selectedItem.price;\n      }\n\n      if (existingItem.quantity < 1) {\n        state.value.chartItems = [...action.payload.array];\n      }\n    }\n  }\n});\nexport const {\n  updateBoxArray,\n  addToChart,\n  deletefromChart\n} = chartSlice.actions;\nexport default chartSlice.reducer;","map":{"version":3,"names":["createSlice","useEffect","chartSlice","name","initialState","value","chartItems","totalPrice","quantity","reducers","updateBoxArray","state","action","payload","addToChart","newItem","existingItem","find","item","id","price","push","deletefromChart","selectedItem","array","actions","reducer"],"sources":["/Users/urtezebciukaite/Desktop/TS10/Personal projects/react/shopping_site/src/features/chart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { useEffect } from \"react\";\n\nexport const chartSlice = createSlice({\n    name: \"chart\",\n    initialState: {\n        value: {\n            chartItems: [],\n            totalPrice: 0,\n            quantity: 0\n        }\n    },\n    reducers: {\n        updateBoxArray: (state, action) => {\n            state.value.chartItems = [...action.payload]\n        },\n        addToChart: (state, action) => {\n             const newItem = action.payload\n             const existingItem = state.value.chartItems.find((item) => item.id === newItem.id)\n\n            if(existingItem){\n                existingItem.quantity++\n                existingItem.totalPrice += newItem.price\n                state.value.quantity++\n                state.value.totalPrice += newItem.price\n            }\n            \n            else {\n                state.value.chartItems.push(action.payload) \n                state.value.quantity++\n                state.value.totalPrice += newItem.price\n            }\n        },\n        deletefromChart: (state,action) => {\n            const selectedItem = action.payload.item\n            const existingItem = state.value.chartItems.find((item) => item.id === selectedItem.id)\n\n            if(existingItem.quantity > 0){\n                existingItem.quantity--\n                existingItem.totalPrice -= selectedItem.price\n                state.value.quantity--\n                state.value.totalPrice -= selectedItem.price\n                \n          \n            }\n            \n            if(existingItem.quantity < 1) {\n                state.value.chartItems = [...action.payload.array] \n            }\n        }\n \n    }\n\n        \n    \n\n})\n\nexport const {updateBoxArray, addToChart, deletefromChart} = chartSlice.actions\n\n\nexport default chartSlice.reducer\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,OAAO,MAAMC,UAAU,GAAGF,WAAW,CAAC;EAClCG,IAAI,EAAE,OAD4B;EAElCC,YAAY,EAAE;IACVC,KAAK,EAAE;MACHC,UAAU,EAAE,EADT;MAEHC,UAAU,EAAE,CAFT;MAGHC,QAAQ,EAAE;IAHP;EADG,CAFoB;EASlCC,QAAQ,EAAE;IACNC,cAAc,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC/BD,KAAK,CAACN,KAAN,CAAYC,UAAZ,GAAyB,CAAC,GAAGM,MAAM,CAACC,OAAX,CAAzB;IACH,CAHK;IAINC,UAAU,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MAC1B,MAAMG,OAAO,GAAGH,MAAM,CAACC,OAAvB;MACA,MAAMG,YAAY,GAAGL,KAAK,CAACN,KAAN,CAAYC,UAAZ,CAAuBW,IAAvB,CAA6BC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYJ,OAAO,CAACI,EAA1D,CAArB;;MAED,IAAGH,YAAH,EAAgB;QACZA,YAAY,CAACR,QAAb;QACAQ,YAAY,CAACT,UAAb,IAA2BQ,OAAO,CAACK,KAAnC;QACAT,KAAK,CAACN,KAAN,CAAYG,QAAZ;QACAG,KAAK,CAACN,KAAN,CAAYE,UAAZ,IAA0BQ,OAAO,CAACK,KAAlC;MACH,CALD,MAOK;QACDT,KAAK,CAACN,KAAN,CAAYC,UAAZ,CAAuBe,IAAvB,CAA4BT,MAAM,CAACC,OAAnC;QACAF,KAAK,CAACN,KAAN,CAAYG,QAAZ;QACAG,KAAK,CAACN,KAAN,CAAYE,UAAZ,IAA0BQ,OAAO,CAACK,KAAlC;MACH;IACJ,CApBK;IAqBNE,eAAe,EAAE,CAACX,KAAD,EAAOC,MAAP,KAAkB;MAC/B,MAAMW,YAAY,GAAGX,MAAM,CAACC,OAAP,CAAeK,IAApC;MACA,MAAMF,YAAY,GAAGL,KAAK,CAACN,KAAN,CAAYC,UAAZ,CAAuBW,IAAvB,CAA6BC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYI,YAAY,CAACJ,EAA/D,CAArB;;MAEA,IAAGH,YAAY,CAACR,QAAb,GAAwB,CAA3B,EAA6B;QACzBQ,YAAY,CAACR,QAAb;QACAQ,YAAY,CAACT,UAAb,IAA2BgB,YAAY,CAACH,KAAxC;QACAT,KAAK,CAACN,KAAN,CAAYG,QAAZ;QACAG,KAAK,CAACN,KAAN,CAAYE,UAAZ,IAA0BgB,YAAY,CAACH,KAAvC;MAGH;;MAED,IAAGJ,YAAY,CAACR,QAAb,GAAwB,CAA3B,EAA8B;QAC1BG,KAAK,CAACN,KAAN,CAAYC,UAAZ,GAAyB,CAAC,GAAGM,MAAM,CAACC,OAAP,CAAeW,KAAnB,CAAzB;MACH;IACJ;EArCK;AATwB,CAAD,CAA9B;AAuDP,OAAO,MAAM;EAACd,cAAD;EAAiBI,UAAjB;EAA6BQ;AAA7B,IAAgDpB,UAAU,CAACuB,OAAjE;AAGP,eAAevB,UAAU,CAACwB,OAA1B"},"metadata":{},"sourceType":"module"}